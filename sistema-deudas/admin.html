<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema LC - AdministraciÃ³n</title>
  
  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <!-- SheetJS para Excel -->
  <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
  
  <!-- Estilos -->
  <link rel="stylesheet" href="css/styles-internal.css">
</head>
<body class="page-internal">
  <header class="header">
    <h1>âš–ï¸ Estudio LC - Sistema de GestiÃ³n</h1>
    <p class="subtitle">Panel de administraciÃ³n</p>
    <nav class="nav">
      <a href="index.html">ğŸ  Inicio</a>
      <a href="carga.html">ğŸ“¤ Carga Masiva</a>
      <a href="consulta.html">ğŸ” Consulta y EdiciÃ³n</a>
      <a href="admin.html" class="active">âš™ï¸ AdministraciÃ³n</a>
    </nav>
  </header>

  <main class="main">
    <div id="mensaje"></div>
    
    <div class="card">
      <h2>ğŸ“Š EstadÃ­sticas</h2>
      <div id="estadisticas">
        <div class="loading"></div>
      </div>
    </div>
    
    <div class="card">
      <h2>ğŸ“¥ Exportar Datos</h2>
      <p>Descarga todas las causas o filtra por estado</p>
      
      <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 15px;">
        <button id="btnExportar" onclick="exportarExcel()" class="btn btn-primario">
          ğŸ“¥ Exportar Todo
        </button>
        <button id="btnExportarX" onclick="exportarPorEstado('X')" class="btn btn-secundario">
          ğŸ“¥ Extrajudicial
        </button>
        <button id="btnExportarD" onclick="exportarPorEstado('D')" class="btn btn-secundario">
          ğŸ“¥ Con Demanda
        </button>
        <button id="btnExportarS" onclick="exportarPorEstado('S')" class="btn btn-secundario">
          ğŸ“¥ Con Sentencia
        </button>
        <button id="btnExportarE" onclick="exportarPorEstado('E')" class="btn btn-secundario">
          ğŸ“¥ EjecuciÃ³n
        </button>
        <button id="btnExportarC" onclick="exportarPorEstado('C')" class="btn btn-secundario">
          ğŸ“¥ Con Convenio
        </button>
        <button id="btnExportarP" onclick="exportarPorEstado('P')" class="btn btn-secundario">
          ğŸ“¥ Pagadas
        </button>
        <button id="btnExportarB" onclick="exportarPorEstado('B')" class="btn btn-secundario">
          ğŸ“¥ Baja
        </button>
      </div>
    </div>
    
    <div class="card">
      <h2>ğŸ§¹ Mantenimiento</h2>
      <p>Opciones de limpieza y mantenimiento de datos</p>
      
      <div style="margin-top: 15px;">
        <button onclick="limpiarDatosPrueba()" class="btn btn-peligro">
          ğŸ—‘ï¸ Eliminar Datos de Prueba
        </button>
        <p class="subtitle" style="margin-top: 10px;">
          Elimina causas con estado X y monto 0 (datos de prueba)
        </p>
      </div>
    </div>
    
    <div class="card">
      <h2>â„¹ï¸ InformaciÃ³n del Sistema</h2>
      <table style="width: 100%; margin-top: 15px;">
        <tr>
          <td><strong>VersiÃ³n</strong></td>
          <td>2.0</td>
        </tr>
        <tr>
          <td><strong>Base de Datos</strong></td>
          <td>Supabase</td>
        </tr>
        <tr>
          <td><strong>Ãšltima actualizaciÃ³n</strong></td>
          <td>Febrero 2025</td>
        </tr>
      </table>
    </div>
  </main>

  <footer class="footer">
    Â© 2025 Estudio LC - Sistema de GestiÃ³n de Deudas
  </footer>

  <!-- Scripts -->
  <script src="js/main.js"></script>
  <script src="js/pages/admin.js"></script>
</body>
</html>
